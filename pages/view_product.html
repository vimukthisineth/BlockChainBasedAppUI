<div class="container-fluid bg-dark">
    <div class="row justify-content-center align-items-center" style="height: 100vh">
        <div class="col-6 bg-light p-5 rounded">
            <h1 class="text-center">Product details</h1>
            <hr>
            <div class="row">
                <div class="col rounded bg-secondary"></div>
                <div class="col">
                    <h3>{{product.name}} <span class="badge badge-pill badge-success" ng-if="product.approved">Certified</span></h3>
                    <h4>Farmer's price: {{product.farmerPrice}}/-</h4>
                    <p>Expiry date : {{product.expiryDate.substr(0,10)}}</p>
                </div>
            </div>
            <hr>
            <div class="row">
                <div class="col">
                    <h4>Description :</h4>
                    <p>{{product.description}}</p>
                </div>
            </div>

            <button type="submit" class="btn btn-success btn-block" ng-click="certifyProduct()" ng-if="user.userType == 'AGENCY'">Certify</button>
            <button type="submit" class="btn btn-danger btn-block" ng-click="declineProduct()" ng-if="user.userType == 'AGENCY'">Decline</button>

            <hr>
            <h5>Reviews</h5>
            <form ng-submit="submitReview()">
                <div class="row">
                    <div class="col">
                        <div class="input-group mb-3">
                            <input type="text" class="form-control" placeholder="Your review" aria-label="Your review" aria-describedby="basic-addon2" ng-model="newReview.content">
                            <div class="input-group-append" style="cursor: pointer" ng-click="submitReview()">
                                <span class="input-group-text" id="basic-addon2">Submit</span>
                            </div>

                        </div>
                    </div>
                </div>
            </form>

            <div class="row" ng-repeat="review in allReviews | orderBy:'-id'">
                <div class="col">
                    <blockquote class="blockquote">
                        <p class="mb-0">{{review.content}} <img src="images/smile.png" width="20px" ng-if="review.sentiment == 'Positive'"><img src="images/sad.png" width="20px" ng-if="review.sentiment == 'Negative'"></p>
                        <footer class="blockquote-footer">{{review.user.firstName + ' ' + review.user.lastName}} <cite title="Source Title">- {{review.date.substr(0,10)}}</cite></footer>
                    </blockquote>
                </div>
            </div>
        </div>
    </div>
</div>
